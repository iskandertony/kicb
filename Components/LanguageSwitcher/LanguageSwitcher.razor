@inject IJSRuntime JS

<MudSelect T="string" Value="@Lang" ValueChanged="OnLangChanged" Class="mx-2">
  <MudSelectItem Value=@("ru")>ru</MudSelectItem>
  <MudSelectItem Value=@("en")>en</MudSelectItem>
</MudSelect>

@code {
  private string Lang = "ru";

  protected override async Task OnInitializedAsync()
  {
    var savedLang = await JS.InvokeAsync<string>("localStorage.getItem", "culture");
    Lang = string.IsNullOrWhiteSpace(savedLang) ? "ru" : savedLang;
  }

  private async Task OnLangChanged(string value)
  {
    if (Lang != value)
    {
      Lang = value;
      await JS.InvokeVoidAsync("localStorage.setItem", "culture", value);
      await JS.InvokeVoidAsync("location.reload");
    }
  }
}
